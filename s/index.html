<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>工作日誌 &middot; Dixen</title>

  
  <link rel="stylesheet" href="https://dixentw.github.io/s/css/poole.css">
  <link rel="stylesheet" href="https://dixentw.github.io/s/css/hyde.css">
  <link rel="stylesheet" href="https://dixentw.github.io/s/css/poole-overrides.css">
  <link rel="stylesheet" href="https://dixentw.github.io/s/css/hyde-overrides.css">
  <link rel="stylesheet" href="https://dixentw.github.io/s/css/hyde-x.css">
  <link rel="stylesheet" href="https://dixentw.github.io/s/css/highlight/sunburst.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://dixentw.github.io/s/touch-icon-144-precomposed.png">
  <link href="https://dixentw.github.io/s/favicon.png" rel="icon">

  
  
  
  <link href="https://dixentw.github.io/s/index.xml" rel="alternate" type="application/rss+xml" title="工作日誌 &middot; Dixen" />

  <meta name="description" content="">
  <meta name="keywords" content="">
  
</head>
<body class="theme-base-0d">
<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      
        <img src="https://www.gravatar.com/avatar/01bd6f50f32068f5daf02ff29365ce53?s=200"
             alt="gravatar" title="Dixen">
      
      <h1>Dixen</h1>
      <p class="lead">拿來記工作流水帳，或各種與軟體工作有關的事情</p>
    </div>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item"><a href="https://dixentw.github.io/s/">Blog</a></li>
      
      <li class="sidebar-nav-item"><a href="/s/leetcode/">Leetcode</a></li>
      
      <li class="sidebar-nav-item"><a href="/s/page/">Page</a></li>
      
      <li class="sidebar-nav-item"><a href="/s/post/">Post</a></li>
      
    </ul>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
      <a href="https://github.com/dixentw"><i class="fa fa-github-square fa-3x"></i></a>
      
      
      
      
      
      
      
      
      </li>
    </ul>

    

    <p>Copyright &copy; 2016 <a href="https://dixentw.github.io/s/license/">License</a><br/>
       Powered by <a href="http://gohugo.io">Hugo</a> and <a href="https://github.com/zyro/hyde-x">Hyde-X</a></p>
  </div>
</div>


<div class="content container">
  <div class="posts">
    
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://dixentw.github.io/s/post/506/">506</a>
      </h1>
      <span class="post-date">May 6, 2016 &middot; 1 minute read
      
      <br/>
      
      </span>
      
      <ul>
<li>SimpleRNN做不出來啊~~

<ul>
<li>acc 都是0</li>
<li>原因：之前的設定是loss=&ldquo;binary_crossentropy&rdquo;, 看起來這個model只會判別0, 1。要multi-classification的話，需要把output label標成 [0,0,0,0,1,0,0,0,0] 這樣的array, array length代表所有的classes，剛剛試過980(直接把string hash成integer)，看起來效果不是很理想。accuracy只有0.181603375532</li>
<li>Try2 : 把class 降低

<ul>
<li>副本：可以找找numpy有沒有現成的utils可以做這件事，不然就要自己手動寫了。</li>
</ul></li>
</ul></li>
</ul>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://dixentw.github.io/s/post/505/">505</a>
      </h1>
      <span class="post-date">May 5, 2016 &middot; 1 minute read
      
      <br/>
      
      </span>
      
      <ul>
<li>find a bug : OP panel, TD module

<ul>
<li>如果有關掉某些profile, 則TD模組不會產出他的stat, 意味著，在aggregator的過程裡面，會有些td的id個數會不一致，這種情況下，需要把沒有出現過的id, 寫進map裡面</li>
<li>refactor, merge 的情況下，應該使用map，簡化迴圈。</li>
</ul></li>
</ul>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://dixentw.github.io/s/post/504/">504</a>
      </h1>
      <span class="post-date">May 4, 2016 &middot; 1 minute read
      
      <br/>
      
      </span>
      
      <ul>
<li><p>run keras of RNN, using default parameters, should understand <code>fit()</code> training output means</p></li>

<li><p>POC zeromq with 4003 port and one DF</p>

<ul>
<li>zeromq的麻煩地方: 因為綁定native libzmq, 所以要build的話要挑build machine來做</li>
<li>需要jenkins了嗎&hellip;.</li>
<li>POC on dixengce:

<ul>
<li>scope: publisher 一直loop data給subscriber, sub晚點加入也沒關係，可以接收得到，值得注意的是，sub第一次啟動後，會不會漏掉第一個pub, 這是需要實驗的</li>
<li>測試成功，看起來沒問題。但是以收1000筆速度來看好像有點慢</li>
</ul></li>
</ul></li>
</ul>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://dixentw.github.io/s/post/503/">503</a>
      </h1>
      <span class="post-date">May 3, 2016 &middot; 1 minute read
      
      <br/>
      
      </span>
      
      <ul>
<li><p>Setting up keras, run on Theano</p>

<ul>
<li>先使用docker</li>
<li>KDD99的training set還有testing set都齊了，目前工作重點在於建立RNN與LSTM的運算pipeline</li>
<li>learning jargons, 直接讀manual太多術語不懂@@, 先看tutorial

<ul>
<li><a href="http://neuralnetworksanddeeplearning.com">原文書啊</a></li>
<li><a href="http://blog.csdn.net/u012162613/article/details/45397033">Deep learning</a>中文參考手冊</li>
</ul></li>
</ul></li>

<li><p>Other:</p>

<ul>
<li>zero mq layer between SSDB with Agent?</li>
</ul></li>

<li><p>OP-Panel:</p>

<ul>
<li>CDD request : ACL filter max to 16</li>
</ul></li>
</ul>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://dixentw.github.io/s/post/429/">429</a>
      </h1>
      <span class="post-date">Apr 29, 2016 &middot; 1 minute read
      
      <br/>
      
      </span>
      
      <ul>
<li>重開DNS mi 的DFs</li>
<li>需要report?寫report的人走了QQ</li>
<li>where is KDD feature transfer??

<ul>
<li><a href="http://kdd.ics.uci.edu/databases/kddcup99/kddcup99.html">found</a></li>
<li><a href="https://web.archive.org/web/20150205070216/http://nsl.cs.unb.ca/NSL-KDD/">improved version</a></li>
<li>KDD99的training set還有testing set都齊了，目前工作重點在於建立RNN與LSTM的運算pipeline</li>
</ul></li>
</ul>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://dixentw.github.io/s/post/428/">428</a>
      </h1>
      <span class="post-date">Apr 28, 2016 &middot; 1 minute read
      
      <br/>
      
      </span>
      
      <ul>
<li><p>Playing with Hugo</p>

<ul>
<li>menu for lazy blog滿好用的，在config.toml裡面下<code>SectionPagesMenu = &quot;main&quot;</code>就好了</li>
</ul></li>

<li><p>study KDD cup</p>

<ul>
<li>KDD 1999 的題目的確是判斷network intrusion沒錯，但問題是，哪邊有轉換netflow 到vector的現成程式？</li>
</ul></li>

<li><p>checking netflow agent</p>

<ul>
<li>externalize db url? shold do ? -&gt; 決定不做，會跟prod, env這個設定衝突，這樣設定太自由容易有誤</li>
<li>to production : 出錯了，aggregate過後的data, 數字都是float64, 必須在agent 那邊防呆&hellip;

<ul>
<li>最後解法： 從源頭那邊轉資料的地方就要把packets, bytes, bpb, pps的資料變成number型態，即是如此，還是會有問題，所以addtwostore還是要做回防呆。</li>
</ul></li>
</ul></li>
</ul>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://dixentw.github.io/s/post/427/">427</a>
      </h1>
      <span class="post-date">Apr 27, 2016 &middot; 1 minute read
      </span>
      
      <p><strong>netflow agent errors:</strong></p>

<ol>
<li>SSDB connection error, can it recover?</li>
<li>Data error : should process, but need to verify</li>
<li>less than 2 files in folder</li>
<li>too many open files -&gt; 有可能是ssdb connection沒有關，現在每次cron啟動後會new一個connection</li>
</ol>

<p>KDD cup finding all netflow data usage</p>

<p>資料: netflow,
  access log,</p>

<p>收集的資料先分類
  1. 先試 RNN + LSTM
  1. K-means</p>

<hr />

<ul>
<li>Keras</li>
<li>Theano</li>
<li>TehsorFlow</li>
<li>KDD cup已經有現成了，先照這個流程做</li>
</ul>

<p>1qaz2wsx3edc</p>

<p>使用Hugo : 要向此人學習！！ <a href="http://kaichu.io/blog/">http://kaichu.io/blog/</a></p>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://dixentw.github.io/s/post/426/">426</a>
      </h1>
      <span class="post-date">Apr 26, 2016 &middot; 1 minute read
      </span>
      
      <ul>
<li>Main task of this day :

<ul>
<li>check netflow agent produce the same result of DNS netflow aggregator.</li>
</ul></li>
<li>BUG : netflow, too many open files -&gt; tracking down the line</li>
<li>hour aggregator on global 為什麼會不一致：

<ul>
<li>matis版本的nowint為前三分鐘，但是hour是當下的分鐘跑出來的hour, 所以有shift</li>
</ul></li>
</ul>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://dixentw.github.io/s/post/421/">421</a>
      </h1>
      <span class="post-date">Apr 21, 2016 &middot; 1 minute read
      </span>
      
      <p>NP-WEB customization:</p>

<ol>
<li>UAT -&gt; disable fetch series data periodically</li>
<li>PRD -&gt; disabe TD b/w list and DPI b/w list, disable outbound in main.js</li>
</ol>

      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="https://dixentw.github.io/s/post/301/">301</a>
      </h1>
      <span class="post-date">Mar 1, 2016 &middot; 1 minute read
      
      <br/>
      
      </span>
      
      <ul>
<li><p>early in the morning… Google VM cannot access, things that I do change root disk size in web console</p>

<ol>
<li>restart</li>
<li>logging with gcloud SDK command line</li>
</ol>

<blockquote>
<p>gcloud compute –project “serene-notch-595″ ssh –zone “asia-east1-a&rdquo; “gc-api-prd&rdquo;</p>
</blockquote>

<ol>
<li>滿有可能是網路問題</li>
<li>後續查找: mysql connection有問題。CPU有可能已經爆掉</li>
</ol></li>

<li><p>New Requirement :</p>

<ul>
<li>netflow go agent 做掉 aggregate或改善，現在佔掉太多CPU</li>
<li>logging 改善，使用新的loggin framework,放debug進去，日後要profile比較好用 – done</li>
<li>查zombie 的goroutine不太對，而且現在換成自己的cron,也該重寫了</li>
<li>因為cron叫了兩個agent起來，一個送uat, 一個送production, 需要整併，不然現在parse會duplicate
改善aggregate</li>
</ul></li>
</ul>

<p>Update favicon of legacy portal</p>

<p>長連結 GoAgent -&gt; debug ??<br />
ssdb本身長連結 -&gt; debug??</p>

      
    </div>
    
    
    
    <ul class="pagination">
        
        <li>
            <a href="/" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
        </li>
        
        <li
        class="disabled">
        <a href="" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
        </li>
        
        <li
        class="active"><a href="/">1</a></li>
        
        <li
        ><a href="/page/2/">2</a></li>
        
        <li
        >
        <a href="/page/2/" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
        </li>
        
        <li>
            <a href="/page/2/" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
        </li>
        
    </ul>
    
  </div>
</div>


<script src="https://dixentw.github.io/s/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>

